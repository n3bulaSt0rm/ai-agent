\documentclass[12pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T5]{fontenc}
\usepackage[vietnamese]{babel}
\usepackage{geometry}
\usepackage{longtable}
\usepackage{array}
\usepackage{booktabs}
\usepackage{fancyhdr}

% Cấu hình trang
\geometry{a4paper, margin=1in, headheight=15pt}

% Định nghĩa header
\pagestyle{fancy}
\fancyhf{}
\rhead{Kiểm thử Hệ thống}
\lhead{AIAgent - Document Management}
\cfoot{\thepage}

% Định nghĩa cột cho phép xuống dòng
\newcolumntype{L}[1]{>{\raggedright\arraybackslash}p{#1}}

\begin{document}

\begin{center}
    \huge{\textbf{BÁO CÁO KIỂM THỬ TÍNH NĂNG}} \\
    \vspace{0.5cm}
    \large{\textbf{Hệ thống Quản lý Tài liệu Thông minh - AIAgent}}
\end{center}

\section*{1. Kiểm thử Chức năng Quản lý Tài liệu}

\begin{longtable}{|c|L{3cm}|L{3.5cm}|L{3.5cm}|L{2.5cm}|c|}
    \caption{Bảng kiểm thử chức năng Quản lý Tài liệu} \label{tab:file_management} \\
    \hline
    \textbf{STT} & \textbf{Mục đích} & \textbf{Đầu vào} & \textbf{Kết quả mong muốn} & \textbf{Kết quả thực tế} & \textbf{Đánh giá} \\
    \hline
    \endfirsthead
    
    \multicolumn{6}{c}%
    {{\tablename\ \thetable{} -- continued from previous page}} \\
    \hline
    \textbf{STT} & \textbf{Mục đích} & \textbf{Đầu vào} & \textbf{Kết quả mong muốn} & \textbf{Kết quả thực tế} & \textbf{Đánh giá} \\
    \hline
    \endhead

    \hline \multicolumn{6}{r}{{Continued on next page}} \\ \hline
    \endfoot

    \hline
    \endlastfoot

    1 & Kiểm thử chức năng tải lên tệp thành công. & 
    Chọn một tệp hợp lệ (PDF, TXT), điền đủ thông tin (ngày tạo tài liệu, mô tả), và nhấn nút "Upload". & 
    Tệp được tải lên thành công, metadata được lưu vào CSDL. Hệ thống hiển thị thông báo thành công và tệp mới xuất hiện trong danh sách. & & Đạt \\
    \hline
    
    2 & Kiểm thử việc tải lên tệp nhưng thiếu thông tin bắt buộc (ngày tạo). & 
    Chọn một tệp hợp lệ nhưng không nhập "Document Creation Date". & 
    Hệ thống hiển thị thông báo lỗi "Please set the Document Creation Date before uploading". Tệp không được tải lên. & & Đạt \\
    \hline

    3 & Kiểm thử việc tải lên tệp có định dạng không được hỗ trợ. & 
    Chọn một tệp có định dạng không phải PDF hoặc TXT (ví dụ: .docx, .png). & 
    Hệ thống hiển thị thông báo lỗi "File type not supported". Tệp không được tải lên. & & Đạt \\
    \hline

    4 & Kiểm thử chức năng xử lý tài liệu. & 
    Tại danh sách tệp, nhấn nút "Process" cho một tài liệu có trạng thái "Pending". & 
    Trạng thái của tệp chuyển thành "preparing". Một tác vụ xử lý được gửi đi. Giao diện cập nhật trạng thái của tệp. & & Đạt \\
    \hline
    
    5 & Kiểm thử chức năng xóa (chuyển vào thùng rác). &
    Tại danh sách tệp, nhấn nút "Delete" cho một tài liệu. &
    Trạng thái tệp chuyển thành "deleting". Tệp biến mất khỏi danh sách chính và sẽ xuất hiện trong Thùng rác sau khi xử lý xong. Hiển thị thông báo thành công. & & Đạt \\
    \hline

    6 & Kiểm thử chức năng khôi phục tệp từ thùng rác. &
    Trong Thùng rác, nhấn nút "Restore" cho một tài liệu. &
    Trạng thái tệp chuyển thành "restoring". Tệp biến mất khỏi thùng rác và sẽ xuất hiện lại ở danh sách chính sau khi xử lý xong. & & Đạt \\
    \hline

\end{longtable}

\newpage
\section*{2. Kiểm thử Chức năng Tìm kiếm Thông minh}

\begin{longtable}{|c|L{3cm}|L{3.5cm}|L{3.5cm}|L{2.5cm}|c|}
    \caption{Bảng kiểm thử chức năng Tìm kiếm Thông minh} \label{tab:search} \\
    \hline
    \textbf{STT} & \textbf{Mục đích} & \textbf{Đầu vào} & \textbf{Kết quả mong muốn} & \textbf{Kết quả thực tế} & \textbf{Đánh giá} \\
    \hline
    \endfirsthead
    
    \multicolumn{6}{c}%
    {{\tablename\ \thetable{} -- continued from previous page}} \\
    \hline
    \textbf{STT} & \textbf{Mục đích} & \textbf{Đầu vào} & \textbf{Kết quả mong muốn} & \textbf{Kết quả thực tế} & \textbf{Đánh giá} \\
    \hline
    \endhead

    \hline \multicolumn{6}{r}{{Continued on next page}} \\ \hline
    \endfoot

    \hline
    \endlastfoot

    1 & Kiểm thử tìm kiếm với câu hỏi hợp lệ. & 
    Tại trang "AI Document Search", nhập một câu hỏi rõ ràng vào ô tìm kiếm và nhấn gửi. & 
    Hệ thống hiển thị trạng thái "Đang tìm kiếm...". Sau đó, trả về câu trả lời do AI tạo ra dựa trên nội dung tài liệu đã xử lý. & & Đạt \\
    \hline

    2 & Kiểm thử tìm kiếm với câu hỏi trống. &
    Không nhập gì vào ô tìm kiếm và nhấn nút gửi. &
    Nút gửi bị vô hiệu hóa. Hệ thống không thực hiện hành động nào. & & Đạt \\
    \hline

    3 & Kiểm thử khi dịch vụ AI không khả dụng. &
    Nhập câu hỏi và tìm kiếm trong khi dịch vụ xử lý AI (processing service) bị tắt. &
    Hệ thống hiển thị thông báo lỗi, ví dụ: "Dịch vụ AI hiện tại không khả dụng. Vui lòng thử lại sau." & & Đạt \\
    \hline
    
    4 & Kiểm thử tìm kiếm với câu hỏi quá dài gây timeout. &
    Nhập một đoạn văn bản rất dài vào ô tìm kiếm và gửi đi. &
    Hệ thống hiển thị thông báo lỗi timeout, ví dụ: "Yêu cầu đang được xử lý quá lâu. Vui lòng thử lại với câu hỏi ngắn gọn hơn." & & Đạt \\
    \hline

\end{longtable}

\newpage
\section*{3. Kiểm thử Chức năng Quản lý Người dùng}

\begin{longtable}{|c|L{3cm}|L{3.5cm}|L{3.5cm}|L{2.5cm}|c|}
    \caption{Bảng kiểm thử chức năng Quản lý Người dùng} \label{tab:user_management} \\
    \hline
    \textbf{STT} & \textbf{Mục đích} & \textbf{Đầu vào} & \textbf{Kết quả mong muốn} & \textbf{Kết quả thực tế} & \textbf{Đánh giá} \\
    \hline
    \endfirsthead
    
    \multicolumn{6}{c}%
    {{\tablename\ \thetable{} -- continued from previous page}} \\
    \hline
    \textbf{STT} & \textbf{Mục đích} & \textbf{Đầu vào} & \textbf{Kết quả mong muốn} & \textbf{Kết quả thực tế} & \textbf{Đánh giá} \\
    \hline
    \endhead

    \hline \multicolumn{6}{r}{{Continued on next page}} \\ \hline
    \endfoot

    \hline
    \endlastfoot

    1 & Kiểm thử admin xem danh sách người dùng. & 
    Quản trị viên (admin) đăng nhập và truy cập trang "User Management". & 
    Hệ thống hiển thị danh sách tất cả người dùng với các thông tin: username, role, ngày tạo, trạng thái. & & Đạt \\
    \hline
    
    2 & Kiểm thử chức năng thay đổi vai trò người dùng. &
    Admin chọn một người dùng có vai trò "user" và thay đổi thành "admin". &
    Vai trò của người dùng được cập nhật trong CSDL và trên giao diện. Hệ thống hiển thị thông báo thành công. & & Đạt \\
    \hline

    3 & Kiểm thử admin không thể thay đổi vai trò của chính mình. &
    Admin tìm tài khoản của chính mình trong danh sách và cố gắng thay đổi vai trò. &
    Hệ thống hiển thị thông báo lỗi "Cannot change your own role". & & Đạt \\
    \hline

    4 & Kiểm thử chức năng cấm (ban) một người dùng. &
    Admin chọn một người dùng có vai trò "user" và nhấn nút "Ban". &
    Người dùng đó bị cấm. Trạng thái trên giao diện được cập nhật. Hệ thống hiển thị thông báo thành công. & & Đạt \\
    \hline

    5 & Kiểm thử đăng nhập của người dùng đã bị cấm. &
    Người dùng đã bị cấm ở bước 4 cố gắng đăng nhập lại (bằng Google hoặc tài khoản thường). &
    Hệ thống từ chối đăng nhập và hiển thị modal thông báo "Account Banned". & & Đạt \\
    \hline
    
    6 & Kiểm thử admin phụ không thể cấm admin khác. &
    Một admin (không phải admin gốc) cố gắng cấm một admin khác. &
    Hệ thống hiển thị thông báo lỗi "Only default admin can ban other admin users". & & Đạt \\
    \hline

\end{longtable}

\end{document} 